<!DOCTYPE html>
<html lang=zh>
  <head>
    <title>Junk Bank System</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css", integrity: "sha256-aAr2Zpq8MZ+YA/D6JtRD3xtrwpEz2IqOS+pWD/7XKIw=", crossorigin: :anonymous %>
    <%= stylesheet_link_tag 'application', media: :all %>
    <%= yield :head %>
  </head>

  <body class="d-flex flex-column min-vh-100">
    <nav class="navbar navbar-expand-md navbar-light bg-light shadow-sm">
      <%= link_to root_url, class: 'navbar-brand' do %>
        <i class="fas fa-lg fa-fw fa-crown"></i>
        <%= site_name %>
      <% end %>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbar-content">
        <ul class="navbar-nav mr-auto">
          <% navbar_models.each do |model, icon| %>
            <li class="nav-item <%= active_page url_for model %>">
              <%= link_to url_for(model), class: 'nav-link' do %>
                <i class="fas fa-fw fa-<%= icon %>"></i>
                <%= model.display_name %>
              <% end %>
            </li>
          <% end %>
        </ul>
        <ul class="navbar-nav my-2 my-md-0">
          <li class="nav-item">
            <%= link_to 'https://github.com/iBug/Junk-Bank-System', class: 'nav-link' do %>
              <i class="fab fa-fw fa-github"></i>
              GitHub
            <% end %>
          </li>
        </ul>
      </div>
    </nav>
    <div class="initial-content flex-grow-1 my-3 my-md-4 offset-md-1 col-md-10">
      <% unless notice.nil? %>
        <p id="notice" class="alert alert-primary"><%= notice %></p>
      <% end %>

      <%= yield %>
    </div>
    <footer class="footer shadow bg-light py-3 py-md-4 border-top">
      <div class="offset-md-1 col-md-10">
        <p class="text-muted">
          <a href="https://github.com/iBug/Junk-Bank-System">Junk Bank System</a> by iBug
        </p>
      </div>
    </footer>

    <%# Optional scripts %>
    <%# jQuery, Popper.js, Bootstrap, Rails UJS, Font Awesome %>
    <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js", integrity: "sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=", crossorigin: "anonymous", async: true %>
    <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js", integrity: "sha256-Xt8pc4G0CdcRvI0nZ2lRpZ4VHng0EoUDMlGcBSQ9HiQ=", crossorigin: "anonymous", async: true %>
    <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/jquery-ujs@1.2.2/src/rails.min.js", crossorigin: "anonymous", async: true %>
    <%= javascript_include_tag "https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/js/all.min.js", crossorigin: "anonymous", async: true %>
    <%= yield :body_after %>
  </body>
</html>
